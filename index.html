<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Launamyndir</title>
  <!--<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600,600italic,700,700italic,800,800italic" rel="stylesheet" type="text/css">-->
  
  <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap-theme.min.css">
  <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
  <script src="https://netdna.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js"></script>
  <style>
    div.main {
      margin: 5%;
    }
    div.tafla {
      display: flex;
      flex-direction: row;
      flex-wrap: wrap;
    }
    div.tafla2 {
      display: flex;
      flex-direction: row;
      flex-wrap: wrap;
    }
    div.hd {
      width: 10%;
      border-style: solid;
      border-width: 1px;
    }
  </style>
</head>
  <body>
    <div class="main">
      <div class="page-header">
        <h1>Nokkrar launamyndir <small>framhaldsskólar</small></h1>
      </div>
      <div class="jumbotron">
        <h2>Breytingar á launatöflu á samningstímanum</h2>
        <p>Þessi tafla sýnir prósentuhækkanir á launatöflu frá frá 2013 til 2016 vegna núverandi kjarasamnings. Gerum ráð fyrir að kennari hafi masterspróf og kennsluréttindi. Litinir í launatöflunni tákna dæmigerða stöðu kennarans út frá kennslureynslu. Blái liturinn (<svg height="20" width="20"><circle cx="10" cy="10" r="5" stroke="blue" stroke-width="3" fill="blue" /></svg>) táknar kennara undir þrítugu, fjólublái liturinn (<svg height="20" width="20"><circle cx="10" cy="10" r="5" stroke="violet" stroke-width="3" fill="violet" /></svg>) táknar kennara á aldrinum 30-38 ára og sá rauði (<svg height="20" width="20"><circle cx="10" cy="10" r="5" stroke="red" stroke-width="3" fill="red" /></svg>) kennara yfir 38 ára aldri sem er kominn með alla launaflokka sem hægt er að fá fyrir kennslureynslu.</p>
          <div class="tafla2">
            <div class="hd"></div>
            <div class="hd">0.</div>
            <div class="hd">1.</div>
            <div class="hd">2.</div>
            <div class="hd">3.</div>
            <div class="hd">4.</div>
            <div class="hd">5.</div>
            <div class="hd">6.</div>
            <div class="hd">7.</div>
            <div class="hd">8.</div>
            
          </div>
          <div class="tafla"></div>         
      </div>
    </div>
  <script src="js/toflur.js"></script>
  <script type="text/javascript" src="d3/d3.v3.js.min"></script>
  <script>
    var taxtahaekkanir = toflur.launahaekkanir();
    //d3.select(".jumbotron").append("p").text(taxtahaekkanir.toString());
    for (var i = 1; i <= 16; i++) {
      var a = taxtahaekkanir.slice((i-1)*9,(i-1)*9+9);
      a.unshift({haekkun: i, launaflokkur: -1, threp: -1});

      console.log(a);
      d3.select(".tafla").selectAll("div").filter(".hd")
      .data(a)
      .enter()
      .append("div")
      .text(function(d) {
              if (d.launaflokkur > 0)
                return d.haekkun.toString() + "%";
              else 
                return d.haekkun + ".";
            })
      .style("color", function(d) {
                                  if (d.launaflokkur == 5 || d.launaflokkur == 6)
                                    return "blue";
                                  else if (d.launaflokkur == 7 || d.launaflokkur == 8)
                                    return "violet";
                                  else if (d.launaflokkur >= 9 && d.launaflokkur <= 10)
                                    return "red";
    })
    .attr("class","rod"+i.toString())
    .style("width", "10%")
    .style("border-width","1px")
    .style("border-style","solid");
    }
    
  </script>

  </body>
</html>
