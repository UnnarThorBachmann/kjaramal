<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Launamyndir</title>
  <!--<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600,600italic,700,700italic,800,800italic" rel="stylesheet" type="text/css">-->
  
  <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap-theme.min.css">
  <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
  <script src="https://netdna.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js"></script>

  <style>
    body {
      background-color: rgba(224,243,248,1);/*#61CDF5;#f1f1f2;*/
      color: black;
    }
    div.main {
      margin-top: 1%;
      margin-left: 3%;
      margin-right: 3%;
    }
    div.tafla {
      display: flex;
      flex-direction: row;
      flex-wrap: wrap;
    }
    div.tafla2 {
      display: flex;
      flex-direction: row;
      flex-wrap: wrap;
    }
    div.tafla3 {
      display: flex;
      flex-direction: row;
      flex-wrap: wrap;
    }
    div.tafla5 {
      display: flex;
      flex-direction: row;
      flex-wrap: wrap;
    }
    h4.fyrirsogn
    {
      padding-left: 3%;
    }
    div.carosel-container {
      display: flex;
      flex-direction: row;
      flex-wrap: wrap; 
      justify-content: space-around;
    }
    div.hd {
      width: 10%;
      padding-left: 2%;
      padding-right: 2%;
    }
    div.yfirtafla {
      background-color: white;
      padding: 1%;
      border: 1px solid rgba(0,0,0,0.1);

    }
    .young {
      background-color: rgba(215,48,39,0.4);
    }
    .young2 {
      background-color: rgba(252,141,89,0.4);
    }
    .middle {
      background-color: rgba(254,224,144,0.4);
    }
    .middle2 {
      background-color: rgba(224,243,248,0.4);
    }
    .old {
      background-color: rgba(145,191,219,0.4);
    }
    .old2 {
      background-color: rgba(69,117,180,0.4);
    }
    .well  {
      background-color: #ffffff;
      background-image: none;
      padding-left: 2%;
      padding-right: 2%;
      padding-top: 1%;
     
    }
    .well {
      border: 1px solid #666;
    
    }
    .well > p {
       font-size: 20px;
    }
    a {
      color: rgba(69,117,180,1);
      font-size: 24px;
    }
    a:hover {
      background-color: transparent;
    }
    .nav-tabs {
      border-bottom: 1px solid #666;
    }
    .nav-tabs>li.active>a, .nav-tabs>li.active>a:hover, .nav-tabs>li.active>a:focus {
      color: #666;
      background-color: #fff;
      border: 1px solid #666;
      border-bottom-color: transparent;
      cursor: default;
    }
    div.fyrirsogn {
      padding-left: 1%;
    }
    div.takkar {
      display: flex;
      flex-direction: row;
      justify-content: space-between;
    }
    div.takki {
      
    }
    h1.nemfjoldi {
      text-align: center;
    }
    div.takki {
      border-style: solid;
    }
  </style>
</head>
  <body>
    <div class="main">
      <div class="well well-lg">
        <ul class="nav nav-tabs">
          <li role="presentation" class="active"><a href="#kynning" aria-controls="kynning" role="tab" data-toggle="tab">Kynning</a></li>
          <li role="presentation"><a href="#launatafla" aria-controls="launatafla" role="tab" data-toggle="tab">Launatafla</a></li>
          <!--<li role="presentation"><a href="#launatafla2" aria-controls="launatafla2" role="tab" data-toggle="tab">Launatafla 2</a></li>-->
          <li role="presentation"><a href="#hreyfimynd4" aria-controls="hreyfimynd4" role="tab" data-toggle="tab">Samanburdur </a></li>
          <li role="presentation"><a href="#hreyfimynd6" aria-controls="hreyfimynd6" role="tab" data-toggle="tab">Samanburdur 2</a></li>
        </ul>
        <div class="tab-content">
            <div role="tabpanel" class="tab-pane active" id="kynning">    
              <h3 display="inline">Kynning</h3>
              <p> Þessari síðu er ætlað að skoða framhaldsskólakennara eftir launahækkanir 2013-2016 vegna hins svokallaða vinnumatssamnings. Ætlunin er bera saman mismunandi aldurshópa kennara skiptast í fimm hópa m.t.t. vinnuskyldu. Yngstu hóparnir eru hafði rauðleitir en hinir eldri bláleitir. Kennarar undir 30 ára aldri eru rauðir, kennarar á aldrinum 30-38 ára brúnleitir o.s.frv. 
              </p>     
              <svg width="400" height="60">
                <g>
                <rect x="50" y="20" width="30" height="30"
                style="fill:#d7191c;stroke:black;stroke-width:1;opacity:1" />
                <rect x="110" y="20" width="30" height="30"
                style="fill:#fdae61;stroke:black;stroke-width:1;opacity:1" />
                <rect x="170" y="20" width="30" height="30"
                style="fill:#ffffbf;stroke:black;stroke-width:1;opacity:1" />
                 <rect x="230" y="20" width="30" height="30"
                style="fill:#abd9e9;stroke:black;stroke-width:1;opacity:1" />
                 <rect x="290" y="20" width="30" height="30"
                style="fill:#2c7bb6;stroke:black;stroke-width:1;opacity:1" />
                </g>
              </svg>

              <p>Hér er gert ráð fyrir að kennarar séu með meistaranám og kennsluréttindi. Yngstu kennararnir raðast þá í flestum tilfellum í launaflokk fimm til sex. Kennarar á aldrinum 30-37 ára raðast í launaflokka sjö til átta. Kennarar á aldrinum 38-54 ára í launaflokka átta til 10. Kennarar eldri en það raðast í launaflokk 10. Röðun í launaflokka er háð stofnanasamningum sem eru breytilegir milli skóla en hafa ekki verið endurskoðaðir í kjölfar kjarasamninganna. Forsendan hér að ofan kann því ekki að ná utan um öll tilvik en ætti að vera lýsandi í mjög mörgum.</p>

              <p> Til að hafa samanburðinn sem einfaldastan verða eingöngu bornir saman hópar í bóknámi: Félagsgreinum, íslensku, raungreinum, sjúkraliðanámi, stærðfræði og tungumálum.</p>  
            </div>  
            <div role="tabpanel" class="tab-pane" id="launatafla">    
              <h3 display="inline">Breytingar á launatöflu á samningstímanum</h3>
              <p>Þessi tafla sýnir prósentuhækkanir á launatöflu frá frá 2013 til 2016 vegna núverandi kjarasamnings FF og fjármálaráðuneytisins. Í hverjum reit er prósentuhækkun viðkomandi launaflokks og þreps í hlutfalli við sjálfan sig. Kennurum er raðað í launaflokka út frá menntun (grunnröðun) og svo starfsreynslu. Lituðu línurnar í töflunni tákna dæmigerða launaflokka kennara út frá grunnröðun (masterspróf og kennsluréttindi) og starfsreynslu. Rauðleitu flokkarnir (5-6) standa fyrir launaflokka yngstu kennaranna en þeir bláu (9-10) tákna launaflokka þeirra elstu. 
              </p>
              <div class="yfirtafla">
                <div class="tafla2">
                  <div class="hd"></div>
                  <div class="hd">0.</div>
                  <div class="hd">1.</div>
                  <div class="hd">2.</div>
                  <div class="hd">3.</div>
                  <div class="hd">4.</div>
                  <div class="hd">5.</div>
                  <div class="hd">6.</div>
                  <div class="hd">7.</div>
                  <div class="hd">8.</div>         
                </div>
                <div class="tafla">
                </div>
              </div>
            </div>
            <!--
            <div role="tabpanel" class="tab-pane" id="launatafla2">    
              <h3 display="inline">Breytingar á launatöflu á samningstímanum</h3>
              <p>Þessi tafla hlutfallslega vöxt í grunnlaunum milli þrepa í launaflokkum árið 2013 annars vegar og hins vegar 2016. Árið 2013 þýddi hækkun um launaflokk 4% hækkun en nú nemur hækkunin 5-6%. Töflurnar sýna náttúrlegan launamun sem er innbyggður inn í launatöfluna með aldurstengdum launahækkunum stofnanasamninga.
              <div class="yfirtafla">
                <div class="fyrirsogn">
                  <h4>2013</h4>
                </div>
                <div class="tafla2">
                  <div class="hd"></div>
                  <div class="hd">0.</div>
                  <div class="hd">1.</div>
                  <div class="hd">2.</div>
                  <div class="hd">3.</div>
                  <div class="hd">4.</div>
                  <div class="hd">5.</div>
                  <div class="hd">6.</div>
                  <div class="hd">7.</div>
                  <div class="hd">8.</div>         
                </div>
                <div class="tafla3">
                </div>
                <div class="fyrirsogn">
                  <h4>2016</h4>
                </div>
                <div class="tafla4">
                  
                </div>
                <div class="tafla5">
                </div>
              </div>
            </div>-->
            <div role="tabpanel" class="tab-pane" id="hreyfimynd4">    
              <h3 display="inline">Samanburður á milli aldurshópa</h3>
              <p>Grafið fyrir neðan sýnir launamun milli aldurshópa kennara árið 2013 og eftir sýnidæmum bóknáms árið 2016 þegar kenndir eru fjórir eða fimm áfangar. Launamunur í prósentum er á y-ás. Launamunur fyrir 2013 var reiknaður út frá nýliða í launaflokki 5 sem kennir jafn marga áfanga með sama nemendafjölda. Annars var notast við meðaltal fullskerts og óskerts kennara undir þrítugu sem kennir nemendahópum sem allir innihalda viðkomandi nemendafjölda. Hægt er að breyta fjölda í hópum og velja fjóra eða fimm hópa en gert er ráð fyrir að nemendafjöldi sé sá sami í öllum hópum.</p>    
              <div class="yfirtafla" id="h4">
                <div class="takkar">
                  <div class="btn-group btn-group-justified" role="group" aria-label="...">

                    <div class="btn-group" role="group">
                      <button type="button" class="btn btn-primary" id="fjorir">4 áfangar</button>
                    </div>
                    <div class="btn-group" role="group">
                      <button type="button" class="btn btn-primary" id="fimm">5 áfangar</button>
                    </div>
                    <div class="btn-group" role="group">
                      <button type="button" class="btn btn-primary" aria-label="left" id="minnka">
                        <span class="glyphicon glyphicon-minus" aria-hidden="true"></span>
                      </button>
                    </div>
                    <div class="btn-group" role="group">
                      <button type="button" class="btn btn-primary takki" aria-label="right" id="haekka">
                        <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                      </button>
                    </div>
                    <div class="btn-group" role="group">
                      <h1 class="nemfjoldi" id="nemfj">Fj. 17 Áf 4</h1>
                    </div>
                  </div>
                </div>
                <div id="h4Teikniflotur">
                </div>
              </div>
            </div>
            <div role="tabpanel" class="tab-pane" id="hreyfimynd6">    
              <h3 display="inline">Samanburður innan aldurshópa</h3>
              <p>Grafið fyrir neðan sýnir hlutfallslegan launamun innan aldurshópa kennara þegar kenndir eru fjórir eða fimm áfangar með sama nemendafjölda. Hver kennari er borinn saman við kennara í sama aldurshópi og sama launaflokki ári 2013. Fyrir yngstu kennarana þýðir þetta að miðað er við kennara í launaflokki fimm og þrepi fjögur. Launamunur í prósentum er á y-ás. Hægt er að breyta fjölda í hópum en gert er ráð fyrir að nemendafjöldi sé sá sami í öllum hópum og velja kennslu fjögurra eða fimm áfanga.</p>    
              <div class="yfirtafla" id="h6">
                <div class="takkar">
                  <div class="btn-group btn-group-justified" role="group" aria-label="...">

                    <div class="btn-group" role="group">
                      <button type="button" class="btn btn-primary" id="fjorir2">4 áfangar</button>
                    </div>
                    <div class="btn-group" role="group">
                      <button type="button" class="btn btn-primary" id="fimm2">5 áfangar</button>
                    </div>
                    <div class="btn-group" role="group">
                      <button type="button" class="btn btn-primary" aria-label="left" id="minnka2">
                        <span class="glyphicon glyphicon-minus" aria-hidden="true"></span>
                      </button>
                    </div>
                    <div class="btn-group" role="group">
                      <button type="button" class="btn btn-primary takki" aria-label="right" id="haekka2">
                        <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                      </button>
                    </div>
                    <div class="btn-group" role="group">
                      <h1 class="nemfjoldi" id="nemfj2">Fj. 17 Áf 4</h1>
                    </div>
                  </div>
                </div>
                <div id="h6Teikniflotur">
                </div>
              </div>
            </div>
             
           
        </div>     
      </div>
    </div>
    
  <script src="js/toflur.js"></script>
  <script src="js/synidaemi.js"></script>
  <script src="js/skoli.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.3.13/d3.js"></script>
  <script src="http://dimplejs.org/dist/dimple.v2.0.0.min.js"></script>

  <script>
    
    var taxtahaekkanir = toflur.launahaekkanir();
    var taxtahaekkanir2 = toflur.launahaekkanir2();
    var taxtahaekkanir3 = toflur.launahaekkanir3();

    //console.log(generator.generate2013());
    var toflufall = function(fylki,leitarstrengur,lf1,lf2) {
      for (var i = lf1; i <= lf2; i++) {
        var a = fylki.slice((i-1)*9,(i-1)*9+9);
        a.unshift({haekkun: i, launaflokkur: -1, threp: -1});
        d3.select(leitarstrengur).selectAll("div").filter(".hd")
        .data(a)
        .enter()
        .append("div")
        .text(function(d) {
                if (d.launaflokkur > 0)
                  return d.haekkun.toString() + "%";
                else 
                  return d.haekkun + ".";
              })
        .attr("class", function(d) { 
                        if (d.launaflokkur == 5)
                          return "rod"+i.toString() + " young";
                        else if (d.launaflokkur == 6)
                          return "rod"+i.toString() + " young2";
                        else if (d.launaflokkur == 7)
                          return "rod"+i.toString() + " middle";
                        else if (d.launaflokkur == 8)
                          return "rod"+i.toString() + " middle2";
                        else if (d.launaflokkur == 9)
                          return "rod"+i.toString() + " old";
                        else if (d.launaflokkur == 10)
                          return "rod"+i.toString() + " old2";
        })
        .style("width", "10%")
        .style("padding-left","2%")
        .style("padding-right","2%")
        .style("border-width","1px")
        .style("border-color","rgba(0,0,0,0.1")
        .style("border-style",function(d){return (d.launaflokkur < 0 ?"hidden":"solid")});
      }

    }
    var addSeq = function (data,x,id,height) {
      var seq = d3.select(id).html("").attr("width","400px").attr("height",height).selectAll('circle.node').data(data, function (d) {
        return d.id;
      });

      seq.enter().append("circle").attr("class", "circle")
        .attr("cx", function (d) {
        return x(d.mismunur);
      })
      .attr("cy", function (d) {
        if (id === "#myndGamlir" || id === "#myndGamlir2" || id === "#myndGamlir3")
          return 5;

        if (d.vinnuskylda == 720)
          return 15;
        else if (d.vinnuskylda == 708)
          return 30;
        else if (d.vinnuskylda == 696)
          return 45;
        else if (d.vinnuskylda == 667)
          return 60;
        else
          return 75;
      })
      .attr("r", 5)
      .style("fill", function(d) {
        
        return d.color;
      })
      .style("stroke", "black")
      .style("stroke-width", 0.5);

      seq.exit().remove();
    };

    var scatterMynd = function (data,place) {
      var margin = 75,
      width = 1000 - margin,
      height = 300 - margin;



      var svg = d3.select(place).html('')
        .append("svg")
          .attr("width", width + margin)
          .attr("height", height + margin)
        .append('g')
            .attr('class','chart');

  
          var myChart = new dimple.chart(svg, data);
          
          myChart.defaultColors = [
            new dimple.color("black"), 
            new dimple.color("black"), 
            new dimple.color("black"), 
            new dimple.color("black"), 
            new dimple.color("black")
          ];
        
          
          var x = myChart.addCategoryAxis("x", "synidaemi"); 
          x.addOrderRule(['2013','Félagsgreinar','Íslenska','Raungreinar','Tungumál','Stærðfræði',]);
          var y = myChart.addMeasureAxis("y", "mismunur");

          var mySeries = myChart.addSeries(["aldur","launaflokkur","skertur","salary"], dimple.plot.scatter);
          
          mySeries.afterDraw = function (s, d) {
            var age = d.key.split("/")[0];
            if  (age == '30 ára-')
              d3.select(s).style("fill","#d7191c").style("stroke","black");
            else if (age == '30-37 ára')
              d3.select(s).style("fill","#fdae61").style("stroke","black");
            else if (age == '38-54 ára')
              d3.select(s).style("fill","#ffffbf").style("stroke","black");
            else if (age == '55-59 ára')
              d3.select(s).style("fill","#abd9e9").style("stroke","black");
            else
              d3.select(s).style("fill","#2c7bb6").style("stroke","black");
           
          };
          myChart.draw();

    };
    var scatterMynd2 = function (data,place) {
      var margin = 75,
      width = 1000 - margin,
      height = 300 - margin;



      var svg = d3.select(place).html('')
        .append("svg")
          .attr("width", width + margin)
          .attr("height", height + margin)
        .append('g')
            .attr('class','chart');

  
          var myChart = new dimple.chart(svg, data);
          
          myChart.defaultColors = [
            new dimple.color("black")
          ];
        
          
          var x = myChart.addCategoryAxis("x", "aldur"); 
          var y = myChart.addMeasureAxis("y", "mismunur");
          y.overrideMax = 120;
          y.overrideMin = 0;
          var mySeries = myChart.addSeries(["aldur","launaflokkur","skertur","laun","synidaemi"], dimple.plot.scatter);

          x.addOrderRule(['30 ára-','30-37 ára','38-54 ára','55-59 ára','60 ára+']);
          mySeries.afterDraw = function (s, d) {
            var age = d.key.split("/")[0];
            if  (age == '30 ára-')
              d3.select(s).style("fill","#d7191c").style("stroke","black");
            else if (age == '30-37 ára')
              d3.select(s).style("fill","#fdae61").style("stroke","black");
            else if (age == '38-54 ára')
              d3.select(s).style("fill","#ffffbf").style("stroke","black");
            else if (age == '55-59 ára')
              d3.select(s).style("fill","#abd9e9").style("stroke","black");
            else
              d3.select(s).style("fill","#2c7bb6").style("stroke","black");
           
          };
          myChart.draw();

    };

    var generateSeq = function(fjoldi,af) {
      
      var sequenceTeachers = generator.generate2016y(fjoldi,af);
      scatterMynd(sequenceTeachers,"#h4Teikniflotur");
      
    };
    var generateSeq2 = function(fjoldi,af) {
      
      var sequenceTeachers = generator.generate2016z(fjoldi,af);
      scatterMynd2(sequenceTeachers,"#h6Teikniflotur");
      
    };

    
    
    toflufall(taxtahaekkanir,".tafla",1,16);
    toflufall(taxtahaekkanir2,".tafla3",5,10);
    toflufall(taxtahaekkanir3,".tafla5",5,10);
    generateSeq(17,4);
    generateSeq2(17,4);
    $('#minnka').on('click', function () {
      var h1 = document.getElementById("nemfj").innerHTML.split(" ");
      var fj = parseInt(h1[1]);
      fj = fj - 1;
      h1[1] = fj.toString();
      document.getElementById("nemfj").innerHTML = h1.join(" ");
      generateSeq(fj,parseInt(h1[3]));

    });
    $('#haekka').on('click', function () {
      var h1 = document.getElementById("nemfj").innerHTML.split(" ");
      var fj = parseInt(h1[1]);
      fj = fj + 1;
      h1[1] = fj.toString();
      document.getElementById("nemfj").innerHTML = h1.join(" ");
      generateSeq(fj,parseInt(h1[3]));
    });


    $('#fjorir').on('click', function () {
      var h1 = document.getElementById("nemfj").innerHTML.split(" ");
    
      h1[3] = 4 + "";
      document.getElementById("nemfj").innerHTML = h1.join(" ");
      generateSeq(parseInt(h1[1]),4);

    });
    $('#fimm').on('click', function () {
      var h1 = document.getElementById("nemfj").innerHTML.split(" ");
    
      h1[3] = 5 + "";
      document.getElementById("nemfj").innerHTML = h1.join(" ");
      generateSeq(parseInt(h1[1]),5);
    });
    $('#minnka2').on('click', function () {
      var h1 = document.getElementById("nemfj2").innerHTML.split(" ");
      var fj = parseInt(h1[1]);
      fj = fj - 1;
      h1[1] = fj.toString();
      document.getElementById("nemfj2").innerHTML = h1.join(" ");
      generateSeq2(fj,parseInt(h1[3]));

    });
    $('#haekka2').on('click', function () {
      var h1 = document.getElementById("nemfj2").innerHTML.split(" ");
      var fj = parseInt(h1[1]);
      fj = fj + 1;
      h1[1] = fj.toString();
      document.getElementById("nemfj2").innerHTML = h1.join(" ");
      generateSeq2(fj,parseInt(h1[3]));
    });


    $('#fjorir2').on('click', function () {
      var h1 = document.getElementById("nemfj2").innerHTML.split(" ");
    
      h1[3] = 4 + "";
      document.getElementById("nemfj2").innerHTML = h1.join(" ");
      generateSeq2(parseInt(h1[1]),4);

    });
    $('#fimm2').on('click', function () {
      var h1 = document.getElementById("nemfj2").innerHTML.split(" ");
    
      h1[3] = 5 + "";
      document.getElementById("nemfj2").innerHTML = h1.join(" ");
      generateSeq2(parseInt(h1[1]),5);
    });
    
  </script>

  </body>
</html>
